export function drag(event, _a) {
    var move = _a.move, up = _a.up;
    var startX = event.pageX;
    var startY = event.pageY;
    var x = startX;
    var y = startY;
    var moved = false;
    function mouseMoveHandler(event) {
        var dx = event.pageX - x;
        var dy = event.pageY - y;
        x = event.pageX;
        y = event.pageY;
        if (dx || dy) {
            moved = true;
        }
        move(event, dx, dy, x, y);
        event.preventDefault(); // to avoid text selection
    }
    function mouseUpHandler(event) {
        x = event.pageX;
        y = event.pageY;
        document.removeEventListener('mousemove', mouseMoveHandler);
        document.removeEventListener('mouseup', mouseUpHandler);
        if (up) {
            up(event, x, y, moved);
        }
    }
    document.addEventListener('mousemove', mouseMoveHandler);
    document.addEventListener('mouseup', mouseUpHandler);
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZHJhZy5qcyIsInNvdXJjZVJvb3QiOiJuZzovL0Bpc21hdGpvbi9hbmd1bGFyLWRhdGEtdGFibGUvIiwic291cmNlcyI6WyJ1dGlscy9kcmFnLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQWNBLE1BQU0sVUFBVSxJQUFJLENBQ2xCLEtBQWlCLEVBQ2pCLEVBQTZEO1FBQTNELGNBQVUsRUFBRSxVQUFNO0lBRXBCLElBQU0sTUFBTSxHQUFHLEtBQUssQ0FBQyxLQUFLLENBQUM7SUFDM0IsSUFBTSxNQUFNLEdBQUcsS0FBSyxDQUFDLEtBQUssQ0FBQztJQUMzQixJQUFJLENBQUMsR0FBRyxNQUFNLENBQUM7SUFDZixJQUFJLENBQUMsR0FBRyxNQUFNLENBQUM7SUFDZixJQUFJLEtBQUssR0FBRyxLQUFLLENBQUM7SUFFbEIsU0FBUyxnQkFBZ0IsQ0FBQyxLQUFpQjtRQUN6QyxJQUFNLEVBQUUsR0FBRyxLQUFLLENBQUMsS0FBSyxHQUFHLENBQUMsQ0FBQztRQUMzQixJQUFNLEVBQUUsR0FBRyxLQUFLLENBQUMsS0FBSyxHQUFHLENBQUMsQ0FBQztRQUMzQixDQUFDLEdBQUcsS0FBSyxDQUFDLEtBQUssQ0FBQztRQUNoQixDQUFDLEdBQUcsS0FBSyxDQUFDLEtBQUssQ0FBQztRQUNoQixJQUFJLEVBQUUsSUFBSSxFQUFFLEVBQUU7WUFDWixLQUFLLEdBQUcsSUFBSSxDQUFDO1NBQ2Q7UUFFRCxJQUFJLENBQUMsS0FBSyxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDO1FBRTFCLEtBQUssQ0FBQyxjQUFjLEVBQUUsQ0FBQyxDQUFDLDBCQUEwQjtJQUNwRCxDQUFDO0lBRUQsU0FBUyxjQUFjLENBQUMsS0FBaUI7UUFDdkMsQ0FBQyxHQUFHLEtBQUssQ0FBQyxLQUFLLENBQUM7UUFDaEIsQ0FBQyxHQUFHLEtBQUssQ0FBQyxLQUFLLENBQUM7UUFFaEIsUUFBUSxDQUFDLG1CQUFtQixDQUFDLFdBQVcsRUFBRSxnQkFBZ0IsQ0FBQyxDQUFDO1FBQzVELFFBQVEsQ0FBQyxtQkFBbUIsQ0FBQyxTQUFTLEVBQUUsY0FBYyxDQUFDLENBQUM7UUFFeEQsSUFBSSxFQUFFLEVBQUU7WUFDTixFQUFFLENBQUMsS0FBSyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsS0FBSyxDQUFDLENBQUM7U0FDeEI7SUFDSCxDQUFDO0lBRUQsUUFBUSxDQUFDLGdCQUFnQixDQUFDLFdBQVcsRUFBRSxnQkFBZ0IsQ0FBQyxDQUFDO0lBQ3pELFFBQVEsQ0FBQyxnQkFBZ0IsQ0FBQyxTQUFTLEVBQUUsY0FBYyxDQUFDLENBQUM7QUFDdkQsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCB0eXBlIE1vdmVIYW5kbGVyID0gKFxuICBldmVudDogTW91c2VFdmVudCxcbiAgZHg6IG51bWJlcixcbiAgZHk6IG51bWJlcixcbiAgeDogbnVtYmVyLFxuICB5OiBudW1iZXJcbikgPT4gdm9pZDtcbmV4cG9ydCB0eXBlIFVwSGFuZGxlciA9IChcbiAgZXZlbnQ6IE1vdXNlRXZlbnQsXG4gIHg6IG51bWJlcixcbiAgeTogbnVtYmVyLFxuICBtb3ZlZDogYm9vbGVhblxuKSA9PiB2b2lkO1xuXG5leHBvcnQgZnVuY3Rpb24gZHJhZyhcbiAgZXZlbnQ6IE1vdXNlRXZlbnQsXG4gIHsgbW92ZTogbW92ZSwgdXA6IHVwIH06IHsgbW92ZTogTW92ZUhhbmRsZXI7IHVwPzogVXBIYW5kbGVyIH1cbikge1xuICBjb25zdCBzdGFydFggPSBldmVudC5wYWdlWDtcbiAgY29uc3Qgc3RhcnRZID0gZXZlbnQucGFnZVk7XG4gIGxldCB4ID0gc3RhcnRYO1xuICBsZXQgeSA9IHN0YXJ0WTtcbiAgbGV0IG1vdmVkID0gZmFsc2U7XG5cbiAgZnVuY3Rpb24gbW91c2VNb3ZlSGFuZGxlcihldmVudDogTW91c2VFdmVudCkge1xuICAgIGNvbnN0IGR4ID0gZXZlbnQucGFnZVggLSB4O1xuICAgIGNvbnN0IGR5ID0gZXZlbnQucGFnZVkgLSB5O1xuICAgIHggPSBldmVudC5wYWdlWDtcbiAgICB5ID0gZXZlbnQucGFnZVk7XG4gICAgaWYgKGR4IHx8IGR5KSB7XG4gICAgICBtb3ZlZCA9IHRydWU7XG4gICAgfVxuXG4gICAgbW92ZShldmVudCwgZHgsIGR5LCB4LCB5KTtcblxuICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7IC8vIHRvIGF2b2lkIHRleHQgc2VsZWN0aW9uXG4gIH1cblxuICBmdW5jdGlvbiBtb3VzZVVwSGFuZGxlcihldmVudDogTW91c2VFdmVudCkge1xuICAgIHggPSBldmVudC5wYWdlWDtcbiAgICB5ID0gZXZlbnQucGFnZVk7XG5cbiAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdtb3VzZW1vdmUnLCBtb3VzZU1vdmVIYW5kbGVyKTtcbiAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdtb3VzZXVwJywgbW91c2VVcEhhbmRsZXIpO1xuXG4gICAgaWYgKHVwKSB7XG4gICAgICB1cChldmVudCwgeCwgeSwgbW92ZWQpO1xuICAgIH1cbiAgfVxuXG4gIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlbW92ZScsIG1vdXNlTW92ZUhhbmRsZXIpO1xuICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdtb3VzZXVwJywgbW91c2VVcEhhbmRsZXIpO1xufVxuIl19